<div class="relative w-screen h-screen overflow-hidden bg-cover bg-center bg-no-repeat" style="background-image: url('/assets/bg-image.jpg');">
  <!-- Toolbar -->
  <mat-toolbar class="h-16 px-4 flex justify-between items-center bg-blue-800 text-white shadow-lg">
    <span class="text-xl font-bold ml-4">User Registration App</span>
    <div class="flex-grow"></div>
    <div class="flex flex-wrap items-center gap-2 md:space-x-4 mr-4">
      <button mat-stroked-button (click)="navigateToDoList()" class="text-white border-white">ToDoList</button>
      <button mat-stroked-button routerLink="/settings" class="text-white border-white">Settings</button>
      <button mat-icon-button (click)="toggleFavoriteState()" aria-label="Toggle favorite">
        <mat-icon [ngClass]="{ 'text-red-500': isFavorite, 'text-gray-300': !isFavorite }">
          {{ isFavorite ? 'favorite' : 'favorite_border' }}
        </mat-icon>
      </button>
      <button mat-icon-button (click)="toggleShareMenu($event)" aria-label="Share">
        <mat-icon>share</mat-icon>
      </button>
      <button mat-fab color="primary" (click)="openProfileDialog()" class="w-10 h-10">
        <span class="text-base font-bold">{{ profileInitial }}</span>
      </button>
    </div>
  </mat-toolbar>

  <!-- Welcome Message -->
  <div *ngIf="showWelcomeMessage" class="absolute top-16 left-1/2 -translate-x-1/2 w-full max-w-sm sm:max-w-md p-4 sm:p-6 bg-blue-100 border border-blue-200 text-blue-700 rounded-md text-center shadow-md z-10">
    <h2 class="font-bold">Welcome to the Dashboard!</h2>
    <p>We're glad to have you here.</p>
  </div>

  <!-- Offline Warning -->
  <div *ngIf="!isOnline" class="absolute top-0 left-0 w-full bg-red-100 border-t-4 border-red-500 text-red-700 px-4 py-3 text-center font-bold z-50">
    ⚠️ No Internet Connection. Some features may not work.
  </div>

  <!-- Share Menu -->
  <div *ngIf="showShareMenu" class="absolute top-16 right-4 mt-2 w-full max-w-[12rem] bg-white rounded-md shadow-lg p-2 z-20 transition-transform" [class.translate-x-full]="!showShareMenu">
    <button (click)="shareVia('facebook')" class="flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
      <img src="/assets/facebook.png" alt="Facebook" class="w-6 h-6 mr-2">
      Facebook
    </button>
    <button (click)="shareVia('whatsapp')" class="flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
      <img src="/assets/whatsapp.png" alt="WhatsApp" class="w-6 h-6 mr-2">
      WhatsApp
    </button>
    <button (click)="copyLink()" class="flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
      <img src="/assets/copy.png" alt="Copy Link" class="w-6 h-6 mr-2">
      Copy Link
    </button>
  </div>

  <!-- Update Loader -->
  <div *ngIf="isUpdateLoading" class="absolute inset-0 flex justify-center items-center bg-black bg-opacity-25 z-30">
    <mat-progress-spinner color="primary" mode="indeterminate" diameter="50"></mat-progress-spinner>
  </div>

  <!-- Weather Update Section -->
  <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-sm sm:max-w-md p-4 sm:p-8 bg-white bg-opacity-20 backdrop-blur-md rounded-xl shadow-lg">
    <h1 class="text-white text-2xl font-bold mb-4">Weather Update</h1>
    <div class="flex flex-col sm:flex-row items-center gap-2 mb-2">
      <input matInput [(ngModel)]="inputValue" class="flex-grow bg-white/50 border-2 border-gray-300 rounded-lg p-2 focus:border-green-400 focus:outline-none" placeholder="Enter city name">
      <button mat-raised-button color="primary" (click)="search()" class="font-bold">Search</button>
    </div>
    <p class="text-red-400 text-sm" *ngIf="isCityNameCorrect">{{error}}</p>

    <div *ngIf="hasDataFetched" class="mt-4 text-white font-semibold space-y-2">
      <p><strong>Location:</strong> {{ city }}, {{ region }}, {{ country }}</p>
      <p><strong>Last updated:</strong> {{ update }}</p>
      <div class="flex items-center">
        <p><strong>Weather:</strong> {{ temp }}°C, {{ cloud }}% cloud</p>
      </div>
      <div class="flex items-center">
        <p><strong>Condition:</strong> {{ weatherCondition }}</p>
        <img [src]="weatherIcon" alt="Weather condition" class="w-12 h-12 ml-4">
      </div>
    </div>
  </div>
</div>
